; PlatformIO configuration for 370z Monitor
; ESP32-S3 Waveshare 7" Touch LCD

[env:esp32s3-waveshare-7]
platform = espressif32
board = esp32-s3-devkitc-1
framework = arduino

; CPU Frequency: 240MHz (WiFi)
board_build.f_cpu = 240000000L

; Flash Mode: QIO 80MHz
board_build.flash_mode = qio
board_build.f_flash = 80000000L

; Flash Size: 4MB (32Mb) - change to 16MB if your board has more
board_upload.flash_size = 4MB

; PSRAM: OPI PSRAM
board_build.arduino.memory_type = qio_opi
build_flags = 
    -DBOARD_HAS_PSRAM
    -DARDUINO_USB_MODE=1
    -DARDUINO_USB_CDC_ON_BOOT=0
    -DARDUINO_USB_MSC_ON_BOOT=0
    -DARDUINO_USB_DFU_ON_BOOT=0

; Partition Scheme: Huge APP (3MB No OTA/1MB SPIFFS)
board_build.partitions = huge_app.csv

; Upload Mode: UART0 / Hardware CDC
upload_protocol = esptool
upload_speed = 921600

; USB Mode: Hardware CDC and JTAG
; (handled by ARDUINO_USB_MODE flag above)

; Monitor
monitor_speed = 115200

; Erase flash before upload (optional - uncomment if needed)
; upload_flags = --erase-all
